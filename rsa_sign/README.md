# RSA ç­¾åéªŒç­¾å·¥å…·

è¿™æ˜¯ä¸€ä¸ªç”¨ Golang ç¼–å†™çš„ RSA æ•°å­—ç­¾åå’ŒéªŒè¯å·¥å…·ï¼Œæ”¯æŒå¯†é’¥ç”Ÿæˆã€æ•°æ®ç­¾åã€ç­¾åéªŒè¯ç­‰åŠŸèƒ½ã€‚

## åŠŸèƒ½ç‰¹æ€§

- ğŸ” è‡ªåŠ¨ç”Ÿæˆ RSA å¯†é’¥å¯¹ (2048 bits)
- âœï¸ ä½¿ç”¨ SHA256 å“ˆå¸Œç®—æ³•è¿›è¡Œæ•°å­—ç­¾å
- âœ… ç­¾åéªŒè¯å’Œå®Œæ•´æ€§æ£€æŸ¥
- ğŸ’¾ å¯†é’¥ä¿å­˜å’ŒåŠ è½½ (PEM æ ¼å¼)
- ğŸ”„ Base64 ç¼–ç çš„ç­¾åè¾“å‡º
- ğŸ“ å®Œæ•´çš„ç¤ºä¾‹ä»£ç 

## æ–‡ä»¶è¯´æ˜

- `rsa_signature.go` - ä¸»è¦çš„ RSA ç­¾åä»£ç 
- `README.md` - ä½¿ç”¨è¯´æ˜æ–‡æ¡£

## ä½¿ç”¨æ–¹æ³•

### 1. è¿è¡Œç¤ºä¾‹ç¨‹åº

```bash
go run rsa_signature.go
```

### 2. ç¼–è¯‘ç¨‹åº

```bash
go build -o rsa_signer rsa_signature.go
./rsa_signer
```

### 3. åœ¨ä»£ç ä¸­ä½¿ç”¨

```go
package main

import (
    "fmt"
    "log"
)

func main() {
    // åˆ›å»ºæ–°çš„ RSA ç­¾åå™¨
    signer, err := NewRSASigner()
    if err != nil {
        log.Fatal(err)
    }
    
    // å¯¹æ•°æ®è¿›è¡Œç­¾å
    data := "è¦ç­¾åçš„æ•°æ®"
    signature, err := signer.SignString(data)
    if err != nil {
        log.Fatal(err)
    }
    
    // éªŒè¯ç­¾å
    err = signer.VerifyString(data, signature)
    if err != nil {
        log.Fatal("ç­¾åéªŒè¯å¤±è´¥")
    }
    
    fmt.Println("ç­¾åéªŒè¯æˆåŠŸ!")
}
```

## API æ¥å£

### RSASigner ç»“æ„ä½“

```go
type RSASigner struct {
    privateKey *rsa.PrivateKey
    publicKey  *rsa.PublicKey
}
```

### ä¸»è¦æ–¹æ³•

#### åˆ›å»ºç­¾åå™¨
- `NewRSASigner()` - ç”Ÿæˆæ–°çš„ RSA å¯†é’¥å¯¹
- `NewRSASignerFromKeys()` - ä»ç°æœ‰å¯†é’¥åˆ›å»ºç­¾åå™¨

#### ç­¾åæ“ä½œ
- `Sign(data []byte) ([]byte, error)` - å¯¹å­—èŠ‚æ•°ç»„è¿›è¡Œç­¾å
- `SignString(data string) (string, error)` - å¯¹å­—ç¬¦ä¸²è¿›è¡Œç­¾åï¼Œè¿”å› Base64 ç¼–ç 

#### éªŒè¯æ“ä½œ
- `Verify(data []byte, signature []byte) error` - éªŒè¯å­—èŠ‚æ•°ç»„ç­¾å
- `VerifyString(data string, signatureBase64 string) error` - éªŒè¯ Base64 ç¼–ç çš„ç­¾å

#### å¯†é’¥ç®¡ç†
- `GetPublicKeyPEM()` - è·å– PEM æ ¼å¼çš„å…¬é’¥
- `GetPrivateKeyPEM()` - è·å– PEM æ ¼å¼çš„ç§é’¥
- `SaveKeysToFile()` - ä¿å­˜å¯†é’¥åˆ°æ–‡ä»¶
- `LoadKeysFromFile()` - ä»æ–‡ä»¶åŠ è½½å¯†é’¥

## å¯†é’¥æ ¼å¼

ç¨‹åºä½¿ç”¨æ ‡å‡†çš„ PEM æ ¼å¼ä¿å­˜å¯†é’¥ï¼š

- **ç§é’¥**: `RSA PRIVATE KEY` æ ¼å¼
- **å…¬é’¥**: `RSA PUBLIC KEY` æ ¼å¼

## å®‰å…¨æ³¨æ„äº‹é¡¹

1. **ç§é’¥ä¿æŠ¤**: ç§é’¥æ–‡ä»¶æƒé™è®¾ç½®ä¸º 600ï¼Œç¡®ä¿åªæœ‰æ‰€æœ‰è€…å¯è¯»å†™
2. **å¯†é’¥é•¿åº¦**: ä½¿ç”¨ 2048 bits RSA å¯†é’¥ï¼Œæä¾›è¶³å¤Ÿçš„å®‰å…¨æ€§
3. **å“ˆå¸Œç®—æ³•**: ä½¿ç”¨ SHA256 å“ˆå¸Œç®—æ³•ï¼Œç¬¦åˆç°ä»£å®‰å…¨æ ‡å‡†
4. **éšæœºæ•°ç”Ÿæˆ**: ä½¿ç”¨ `crypto/rand` åŒ…ç”Ÿæˆå¯†ç å­¦å®‰å…¨çš„éšæœºæ•°

## ç¤ºä¾‹è¾“å‡º

è¿è¡Œç¨‹åºåä¼šçœ‹åˆ°ç±»ä¼¼è¾“å‡ºï¼š

```
=== RSA ç­¾åéªŒç­¾ç¤ºä¾‹ ===

ç”Ÿæˆçš„RSAå¯†é’¥å¯¹:
ç§é’¥é•¿åº¦: 2048 bits
å…¬é’¥é•¿åº¦: 2048 bits

å¯†é’¥å·²ä¿å­˜åˆ°æ–‡ä»¶:
- private_key.pem (ç§é’¥)
- public_key.pem (å…¬é’¥)

æµ‹è¯•æ•°æ®: Hello, RSAç­¾åæµ‹è¯•!
ç­¾åç»“æœ (Base64): [Base64ç¼–ç çš„ç­¾å]
âœ“ ç­¾åéªŒè¯æˆåŠŸ!
âœ“ é”™è¯¯æ•°æ®éªŒè¯å¤±è´¥ (é¢„æœŸè¡Œä¸º): ç­¾åéªŒè¯å¤±è´¥

=== ä»æ–‡ä»¶åŠ è½½å¯†é’¥æµ‹è¯• ===
âœ“ ä½¿ç”¨åŠ è½½çš„å¯†é’¥éªŒè¯æˆåŠŸ!

=== ç¤ºä¾‹å®Œæˆ ===
```

## ä¾èµ–åŒ…

- `crypto/rsa` - RSA åŠ å¯†ç®—æ³•
- `crypto/sha256` - SHA256 å“ˆå¸Œç®—æ³•
- `crypto/rand` - å¯†ç å­¦å®‰å…¨çš„éšæœºæ•°ç”Ÿæˆ
- `crypto/x509` - å¯†é’¥ç¼–ç /è§£ç 
- `encoding/pem` - PEM æ ¼å¼å¤„ç†
- `encoding/base64` - Base64 ç¼–ç 

## è®¸å¯è¯

æ­¤ä»£ç ä»…ä¾›å­¦ä¹ å’Œå‚è€ƒä½¿ç”¨ã€‚
